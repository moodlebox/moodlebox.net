<!-- CSS to load in header -->
<!-- Bootstrap and Fork Awesome css -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<!-- Custom fonts and styles for this template -->
{{ if site.IsServer }}
  {{ $cssOpts := (dict "enableSourceMap" true) }}
  {{ $forkAwesomeCSS := resources.Get "css/fork-awesome.css" | toCSS $cssOpts }}
  {{ $fontsCSS := resources.Get "css/fonts.css" | toCSS $cssOpts }}
  {{ $moodleboxCSS := resources.Get "css/moodlebox.css" | toCSS $cssOpts }}
  {{ $syntaxCSS := resources.Get "css/syntax.css" | toCSS $cssOpts }}
  {{ $customCSS := resources.Get "css/custom.css" | toCSS $cssOpts }}
  {{ $carouselCSS := resources.Get "css/carousel.css" | toCSS $cssOpts }}
  <link href="{{ $forkAwesomeCSS.Permalink }}" rel="stylesheet">
  <link href="{{ $fontsCSS.Permalink }}" rel="stylesheet">
  <link href="{{ $moodleboxCSS.Permalink }}" rel="stylesheet">
  <link href="{{ $syntaxCSS.Permalink }}" rel="stylesheet">
  <link href="{{ $customCSS.Permalink }}" rel="stylesheet">
  <link href="{{ $carouselCSS.Permalink }}" rel="stylesheet">
  {{ if or (.HasShortcode "gallery") (.HasShortcode "figure") }}
    {{ $lightboxCSS := resources.Get "css/lightbox.css" | toCSS $cssOpts }}
    <link href="{{ $lightboxCSS.Permalink }}" rel="stylesheet">
    {{ if .HasShortcode "gallery" }}
      {{ $galleryCSS := resources.Get "css/gallery.css" | toCSS $cssOpts }}
      <link href="{{ $galleryCSS.Permalink }}" rel="stylesheet">
    {{ end }}
  {{ end }}
{{ else }}
  {{ $cssOpts := (dict "enableSourceMap" false ) }}
  {{ $forkAwesomeCSS := resources.Get "css/fork-awesome.css" | toCSS $cssOpts | minify | fingerprint }}
  {{ $fontsCSS := resources.Get "css/fonts.css" | toCSS $cssOpts | minify | fingerprint }}
  {{ $moodleboxCSS := resources.Get "css/moodlebox.css" | toCSS $cssOpts | minify | fingerprint }}
  {{ $syntaxCSS := resources.Get "css/syntax.css" | toCSS $cssOpts | minify | fingerprint }}
  {{ $customCSS := resources.Get "css/custom.css" | toCSS $cssOpts | minify | fingerprint }}
  {{ $carouselCSS := resources.Get "css/carousel.css" | toCSS $cssOpts | minify | fingerprint }}
  <link href="{{ $forkAwesomeCSS.Permalink }}" integrity="{{ $forkAwesomeCSS.Data.Integrity }}" rel="stylesheet">
  <link href="{{ $fontsCSS.Permalink }}" integrity="{{ $fontsCSS.Data.Integrity }}" rel="stylesheet">
  <link href="{{ $moodleboxCSS.Permalink }}" integrity="{{ $moodleboxCSS.Data.Integrity }}" rel="stylesheet">
  <link href="{{ $syntaxCSS.Permalink }}" integrity="{{ $syntaxCSS.Data.Integrity }}" rel="stylesheet">
  <link href="{{ $customCSS.Permalink }}" integrity="{{ $customCSS.Data.Integrity }}" rel="stylesheet">
  <link href="{{ $carouselCSS.Permalink }}" integrity="{{ $carouselCSS.Data.Integrity }}" rel="stylesheet">
  {{ if or (.HasShortcode "gallery") (.HasShortcode "figure") }}
    {{ $lightboxCSS := resources.Get "css/lightbox.css" | toCSS $cssOpts | minify | fingerprint }}
    <link href="{{ $lightboxCSS.Permalink }}" integrity="{{ $lightboxCSS.Data.Integrity }}" rel="stylesheet">
    {{ if .HasShortcode "gallery" }}
      {{ $galleryCSS := resources.Get "css/gallery.css" | toCSS $cssOpts | minify | fingerprint }}
      <link href="{{ $galleryCSS.Permalink }}" integrity="{{ $galleryCSS.Data.Integrity }}" rel="stylesheet">
    {{ end }}
  {{ end }}
{{ end }}
